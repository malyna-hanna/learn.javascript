const ALBUMS_URL="https://jsonplaceholder.typicode.com/albums",PHOTOS_URL="https://jsonplaceholder.typicode.com/photos?_limit=50&albumId=",API={getAlbums:()=>fetch(ALBUMS_URL).then(t=>t.json()),getPhotos:t=>fetch(PHOTOS_URL+t).then(t=>t.json())},ALBUM_ITEM_CLASS="album-item",albumsEl=document.querySelector("#albums"),photosEl=document.querySelector("#photos"),albumItemTemplate=document.querySelector("#albumItemTemplate").innerHTML,photoItemTemplate=document.querySelector("#photoItemTemplate").innerHTML;function init(){getAlbums().then(getFirstAlbumPhotos)}function getAlbums(){return API.getAlbums().then(t=>(renderAlbums(t),t))}function renderAlbums(t){albumsEl.innerHTML=t.map(t=>generateAlbumHtml(t)).join("\n")}function generateAlbumHtml(t){return albumItemTemplate.replace("{{id}}",t.id).replace("{{title}}",t.title)}function getFirstAlbumPhotos(t){t.length&&getPhotos(t[0].id)}function getPhotos(t){return API.getPhotos(t).then(renderPhotos)}function renderPhotos(t){photosEl.innerHTML=t.map(t=>generatePhotoHtml(t)).join("\n")}function generatePhotoHtml(t){return photoItemTemplate.replace("{{url}}",t.thumbnailUrl).replace("{{title}}",t.title)}function onAlbumsClick(t){t.target.classList.contains(ALBUM_ITEM_CLASS)&&getPhotos(t.target.dataset.id)}albumsEl.addEventListener("click",onAlbumsClick),init();